{% extends "base.html" %}
{% block content %}

{% if posts %}

    {% for post in posts %}
    <ul>
        <li>
            <a href="{{post.url}}">{{post.title}}</a>
        </li>
        <li><strong>Author: </strong>{{ post.author }}</li>
        <li>{{ post.description | truncatewords:30 }}</li>
        <li><a href="{{ post.get_absolute_url }}"<strong>Comments</strong></a></li> <!--Can add # of comments here once defined-->
        <li><strong>Posted: </strong>{{ post.date_added }}</li>
        <li>
            {% csrf_token %}
            <p>{{ post.slug }}</p>
            <form action='{% url 'post_fav' slug=post.slug %}' method="POST">
            <button type="submit">Vote</button>
        </li>
        <li>{{ post.fav_by.count }} Vote(s)</li>
    </ul>
    {% endfor %}

{% else %}
<p>There are no posts</p> <!-- Didn't much care for the if statement but good for troubleshooting in hindsight -->
{% endif %}

{% endblock %}